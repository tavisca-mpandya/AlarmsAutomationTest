{
    "description": "Alarm for exceptions.",
    "threshold": {
        "value": 10,
        "condition": "gte"
    },
    "queryConfiguration": {
        "query": "app_name:hotel_engine AND type:exception",
        "windowInSeconds": 300,
        "aggregate": {
            "type": "count",
            "field": "*",
            "percents": []
        }
    },
    "notifications": {
        "onError": [{
            "type": "teams_message",
            "template": "exceptions_failure"
        },{
            "type": "twilio_call",
            "template": "exceptions_call"
        }],
        "onRecovery":[{
            "type": "teams_message",
            "template": "exceptions_recovery"
        }]
    }
}